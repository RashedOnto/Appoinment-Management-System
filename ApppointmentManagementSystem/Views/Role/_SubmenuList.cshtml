@model IEnumerable<AppointmentManagementSystem.ViewModels.MainMenuVm>

<style>

    #tableId {
        border: 1px solid #128cfe;
    }
</style>
<div class="rounded border shadow-sm bg-white mt-2">
    <table class="table table-borderless mb-2 col-md-12">
        <tr>
            <td>
                All <input id="allCheck" type="checkbox" onclick="CheckAll()" />&nbsp;&nbsp;
                Initial State <input type="checkbox" onclick="LoadSubmenu()" />
            </td>
            @* <td style="margin-left:30px;">
            Initial State <input type="checkbox" onclick="LoadSubmenu()" />
            </td>*@
        </tr>
        @foreach (var item in Model)
        {
            <tr class="m-2" id="tableId">
                @* <td style="width: 20%;">@item.MainMenuName</td>*@
                @* <td style="width: 80%;">*@
                <td>
                    <table id="submenuTbl">
                        <tr>
                            <div style="color:#128cfe"> &nbsp; &nbsp;@item.MainMenuName</div>
                            @foreach (var sub in item.SubmenuList)
                            {


                                <td>
                                    @if (sub.IsChecked == true)
                                    {
                                        <input class="allCheckbox" type="checkbox" value="@sub.SubmenuId" checked="checked" />
                                    }
                                    else
                                    {
                                        <input class="allCheckbox" type="checkbox" value="@sub.SubmenuId" />
                                    }
                                    <span>@sub.SubmenuName</span>
                                </td>


                            }
                        </tr>
                    </table>
                </td>
            </tr>
        }

    </table>
    <div class="input-group">
        <div class="col-12">
            <input type="submit" class="btn btn-primary float-right" value="Submit" onclick="SaveSubmenuRole()" />
        </div>
    </div>
</div>


<script>
    $(document).ready(function () {
        $("#Settings").css('display', 'block');
    });

    function CheckAll() {
        if ($("#allCheck").is(":checked")) {
            $(".allCheckbox").attr("checked", true);;
        } else {
            $(".allCheckbox").attr("checked", false);
        }
    }
</script>